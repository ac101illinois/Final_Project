{% extends "base.html" %}

{% block title %}Search Books{% endblock %}

{% block content %}

<form method="get" action="">
    <input type="text" name="q" value="{{ query }}" placeholder="Search all books...">
    <button type="submit">Search</button>
</form>

{% if results %}
    <h2>Books</h2>
    <ul>
        {% for book in results %}
            <li>
                <a href="{% url 'library:bookeditions-view' book.work_key|slice:'7:' %}">
                    {{ book.title }} by {{ book.author }} ({{ book.edition_count }} editions)
                </a>
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% endblock %}